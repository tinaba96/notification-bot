# Lighthouse Notification-bot

## Overview
This is a notification bot which measures the Google Lighthouse Score and notify in Slack by using OAuth. This works daily and records in the spreadsheet.


## Background and Objectives
Google Lighthouse Score measures SEO, Performance, Best Practices, PWA, Accessibility. Observing the performance of web applications consistently is extremely important.
This Notification bot enables us to know the Score daily by the automated notifcation in slack.


## Approach
Since the score fluctuate everytime, this system will measure 10 times to get the average. It will notify in the slack only if there are more than 10 points difference in any of the categories.


## Summary & Conclusion
It enabled us to observe the Google Lighthouse Score and to enhance the User Experience based on it.

- - -
## How to

### Prepare in Google App Script
1. create a function based on `example.gs`
2. prepare `setTriger.gs` and `delTriger.gs` for setting the automated execution
`delTriger.gs` is used for deleting the logs generated by `setTriger.gs`

### Integration with Slack and Get Slack OAuth
1. Create App in Slack from [here](https://api.slack.com/apps)
2. Add an OAuth Scope
3. Install the App to your Slack


### Requirement
You need to click the + icon next to the library on the GAS Script Editor to add the library below.

ScriptID of SlackApp：

Library information
- Library Key

- API Document


### Environment variables

Set environment variables below in GAS Property.
Generate API and key from [here](https://developers.google.com/speed/docs/insights/v5/get-started?hl=ja)

- CHANNEL_ID // A Channel name you want to post the notification
- LIGHTHOUSEAPI　
- LIGHTHOUSEKEY
- TOKEN // Bot User OAuth Token

  ### Usage
Run setTriger.gs in GAS environment.


## Demo
![image](https://github.com/tinaba96/notification-bot/assets/57109730/11110d9a-1361-4430-87c9-c4e263ad9a9c)


